[l] Ich habe in gatling ja einen gammeligen SMB-Server implementiert, der gerade genug SMB spricht, um den Download von Dateien zu ermoeglichen. Nun probiert Windows aber seit geraumer Zeit bei UNC-Pfaden (\\server\share\datei.zip) erst webdav ueber http aus. Also habe ich mich mal hingesetzt und ein Minimal-Webdav implementiert. Gerade genug, damit Windows mit mir sprechen mag.Dann wollte ich damit mal eine 33 GB-Datei kopieren (denn wir reden hier vom Jahr 2015, da will man grosse Dateien kopieren koennen!). Was passierte? Wie sich rausstellt, hat der Webdav-Client in Windows ein implizites 50-MB-Dateigroessenlimit. Nein, wirklich! 50 MB!Wie das bei Windows so ist, kann man das in der Registry hochsetzen. Ich geh also zur Registry, und was sehe ich da? Das ist ein DWORD. Ein 32-bit-Wert. Die groesste Zahl, die in ein DWORD reinpasst, ist? Richtig! 4 GB!Mit anderen Worten: Eine 33 GB-Datei ueber Webdav uebertragen geht nicht mit Windows.Naja, denkt man sich, mit SMB geht das. Und wenn Windows sieht, dass die Datei zu gross ist fuer Webdav, dann probiert er sicherlich danach SMB, oder?Nein, tut er nicht. Nicht nur das: Er hat sich dann gemerkt, dass dieser Server Webdav spricht, und probiert SMB bis zum naechsten Reboot oder so gar nicht mehr.Es ist echt nicht zu fassen. Was zur Hoelle!?
