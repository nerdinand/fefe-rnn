[l] Oh je, da hab ich wohl zu schnell den Release-Knopf gedrueckt bei gatling. Da ist noch was tiefergehend kaputt. Leider (fuer euch) ist das Blog mein Testbett fuer gatling, d.h. da muesst ihr jetzt durch, dass das so lange kaputt ist, bis ich herausgefunden habe, was das Problem ist.Ich habe kuerzlich einen experimentellen Patch eingepflegt, der Syscalls im heissen Pfad sparen soll. Bei gatling funktionieren virtuelle Hosts ueber Verzeichnisse, d.h. fuer blog.fefe.de geht gatling zuerst in "blog.fefe.de:80" oder "blog.fefe.de:443" und oeffnet dann "favicon.ico" oder was man halt angefragt hat. Das chdir wollte ich da weg haben, also habe ich statt open() openat() benutzt, da gibt man als zusaetzliches Argument einen Deskriptor zu dem Verzeichnis an, zu dem das relativ sein soll. Und es gibt einen kleinen Cache fuer Verzeichnisse zu Deskriptoren.Das funktionierte in der Testsuite und Benchmarks auch ganz prima. Aber auf dem Live-Server unter Last nicht so sehr. Leider muss ich das irgendwie nachstellen koennen, um es debuggen zu koennen, und wenn sich das nur auf dem Livesystem nachstellen laesst, dann muessen wir da jetzt halt alle durch. Sorry.Frank empfiehlt als Ausrede, dass die Chinesen / Russen mich gehackt haben. :-)
